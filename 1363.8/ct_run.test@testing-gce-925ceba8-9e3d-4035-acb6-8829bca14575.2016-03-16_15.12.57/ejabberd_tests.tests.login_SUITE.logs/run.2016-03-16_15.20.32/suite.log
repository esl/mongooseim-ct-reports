=== Suite started at 2016-03-16 15:20:32
=== Starting test, 27 test cases
=cases         27
=user          travis
=host          testing-gce-925ceba8-9e3d-4035-acb6-8829bca14575
=hosts         testing-gce-925ceba8-9e3d-4035-acb6-8829bca14575 
=emulator_vsn  6.4
=emulator      beam
=otp_release   17
=started       2016-03-16 15:20:32
=case          login_SUITE:init_per_suite
=logfile       login_suite.init_per_suite.html
=started       2016-03-16 15:20:32
=ended         2016-03-16 15:20:32
=result        ok
=elapsed       0.001936
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.html
=group_props   [{name,register},sequence]
=started       2016-03-16 15:20:32
=ended         2016-03-16 15:20:32
=result        ok
=elapsed       0.001464
=case          login_SUITE:register
=logfile       login_suite.register.html
=started       2016-03-16 15:20:32
=ended         2016-03-16 15:20:33
=result        ok
=elapsed       0.966778
=case          login_SUITE:already_registered
=logfile       login_suite.already_registered.html
=started       2016-03-16 15:20:33
=ended         2016-03-16 15:20:33
=result        ok
=elapsed       0.456968
=case          login_SUITE:check_unregistered
=logfile       login_suite.check_unregistered.html
=started       2016-03-16 15:20:33
=ended         2016-03-16 15:20:35
=result        ok
=elapsed       1.385288
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.html
=group_props   [{name,register},sequence]
=started       2016-03-16 15:20:35
=ended         2016-03-16 15:20:35
=result        ok
=elapsed       1.0e-6
=group_time    2.918s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141635.274.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-03-16 15:20:35
=ended         2016-03-16 15:20:35
=result        ok
=elapsed       1.0e-6
=case          login_SUITE:null_password
=logfile       login_suite.null_password.html
=started       2016-03-16 15:20:35
=ended         2016-03-16 15:20:35
=result        ok
=elapsed       0.250993
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141635.574.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-03-16 15:20:35
=ended         2016-03-16 15:20:35
=result        ok
=elapsed       1.0e-6
=group_time    0.299s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141635.598.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-03-16 15:20:35
=ended         2016-03-16 15:20:35
=result        ok
=elapsed       0.001814
=case          login_SUITE:bad_request_registration_cancelation
=logfile       login_suite.bad_request_registration_cancelation.html
=started       2016-03-16 15:20:35
=ended         2016-03-16 15:20:36
=result        ok
=elapsed       0.455852
=case          login_SUITE:not_allowed_registration_cancelation
=logfile       login_suite.not_allowed_registration_cancelation.html
=started       2016-03-16 15:20:36
=ended         2016-03-16 15:20:38
=result        ok
=elapsed       0.457028
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141638.27.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-03-16 15:20:38
=ended         2016-03-16 15:20:38
=result        ok
=elapsed       1.0e-6
=group_time    2.429s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141638.55.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-03-16 15:20:38
=ended         2016-03-16 15:20:38
=result        ok
=elapsed       0.00212
=case          login_SUITE:registration_timeout
=logfile       login_suite.registration_timeout.html
=started       2016-03-16 15:20:38
=ended         2016-03-16 15:20:44
=result        ok
=elapsed       5.756593
=case          login_SUITE:registration_failure_timeout
=logfile       login_suite.registration_failure_timeout.html
=started       2016-03-16 15:20:44
=ended         2016-03-16 15:20:47
=result        ok
=elapsed       2.502136
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141647.310.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-03-16 15:20:47
=ended         2016-03-16 15:20:47
=result        ok
=elapsed       1.46e-4
=group_time    9.255s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141647.343.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-03-16 15:20:47
=ended         2016-03-16 15:20:47
=result        ok
=elapsed       0.001334
=case          login_SUITE:change_password
=logfile       login_suite.change_password.html
=started       2016-03-16 15:20:47
=ended         2016-03-16 15:20:48
=result        ok
=elapsed       0.45695
=case          login_SUITE:change_password_to_null
=logfile       login_suite.change_password_to_null.html
=started       2016-03-16 15:20:48
=ended         2016-03-16 15:20:49
=result        ok
=elapsed       0.454922
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141649.775.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-03-16 15:20:49
=ended         2016-03-16 15:20:49
=result        ok
=elapsed       1.0e-6
=group_time    2.432s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141649.800.html
=group_props   [{name,login},sequence]
=started       2016-03-16 15:20:49
=ended         2016-03-16 15:20:50
=result        ok
=elapsed       0.503688
=case          login_SUITE:log_one
=logfile       login_suite.log_one.html
=started       2016-03-16 15:20:50
=ended         2016-03-16 15:20:50
=result        ok
=elapsed       0.45553
=case          login_SUITE:log_non_existent_plain
=logfile       login_suite.log_non_existent_plain.html
=started       2016-03-16 15:20:50
=ended         2016-03-16 15:20:51
=result        ok
=elapsed       0.202285
=case          login_SUITE:log_one_digest
=logfile       login_suite.log_one_digest.html
=started       2016-03-16 15:20:51
=ended         2016-03-16 15:20:51
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 13 of 27 ***
=case          login_SUITE:log_non_existent_digest
=logfile       login_suite.log_non_existent_digest.html
=started       2016-03-16 15:20:51
=ended         2016-03-16 15:20:51
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 14 of 27 ***
=case          login_SUITE:log_one_scram
=logfile       login_suite.log_one_scram.html
=started       2016-03-16 15:20:51
=ended         2016-03-16 15:20:51
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 15 of 27 ***
=case          login_SUITE:log_non_existent_scram
=logfile       login_suite.log_non_existent_scram.html
=started       2016-03-16 15:20:51
=ended         2016-03-16 15:20:51
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 16 of 27 ***
=case          login_SUITE:blocked_user
=logfile       login_suite.blocked_user.html
=started       2016-03-16 15:20:51
=ended         2016-03-16 15:20:51
=result        ok
=elapsed       0.176318
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141651.358.html
=group_props   [{name,login},sequence]
=started       2016-03-16 15:20:51
=ended         2016-03-16 15:20:52
=result        ok
=elapsed       0.921228
=group_time    1.559s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141652.307.html
=group_props   [{name,login_scram},sequence]
=started       2016-03-16 15:20:52
=ended         2016-03-16 15:20:52
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram"}]
=started       2016-03-16 15:20:52
=result        skipped: external authentication requires plain password
=== *** Skipping test case #18 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram"}]
=started       2016-03-16 15:20:52
=result        skipped: external authentication requires plain password
=== *** Skipping test case #19 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram"}]
=started       2016-03-16 15:20:52
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141652.335.html
=group_props   [{name,login_scram_store_plain},sequence]
=started       2016-03-16 15:20:52
=ended         2016-03-16 15:20:52
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-03-16 15:20:52
=result        skipped: external authentication requires plain password
=== *** Skipping test case #20 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-03-16 15:20:52
=result        skipped: external authentication requires plain password
=== *** Skipping test case #21 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-03-16 15:20:52
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141652.362.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-03-16 15:20:52
=ended         2016-03-16 15:20:52
=result        ok
=elapsed       0.502862
=case          login_SUITE:legacy_successful_plain
=logfile       login_suite.legacy_successful_plain.html
=started       2016-03-16 15:20:52
=ended         2016-03-16 15:20:53
=result        ok
=elapsed       0.20335
=case          login_SUITE:legacy_unsuccessful_plain
=logfile       login_suite.legacy_unsuccessful_plain.html
=started       2016-03-16 15:20:53
=ended         2016-03-16 15:20:53
=result        ok
=elapsed       0.001888
=case          login_SUITE:legacy_successful_digest
=logfile       login_suite.legacy_successful_digest.html
=started       2016-03-16 15:20:53
=ended         2016-03-16 15:20:53
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 24 of 27 ***
=case          login_SUITE:legacy_blocked_user
=logfile       login_suite.legacy_blocked_user.html
=started       2016-03-16 15:20:53
=ended         2016-03-16 15:20:53
=result        ok
=elapsed       0.001298
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141653.200.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-03-16 15:20:53
=ended         2016-03-16 15:20:54
=result        ok
=elapsed       0.918993
=group_time    0.839s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141654.144.html
=group_props   [{name,messages},sequence]
=started       2016-03-16 15:20:54
=ended         2016-03-16 15:20:54
=result        ok
=elapsed       0.501966
=case          login_SUITE:messages_story
=logfile       login_suite.messages_story.html
=started       2016-03-16 15:20:54
=ended         2016-03-16 15:20:55
=result        ok
=elapsed       0.918266
=case          login_SUITE:message_zlib_limit
=logfile       login_suite.message_zlib_limit.html
=started       2016-03-16 15:20:55
=== WARNING: end_per_testcase crashed!
Reason: {assertion_failed,assert,is_compressed,
                          {xmlel,<<"failure">>,
                                 [{<<"xmlns">>,
                                   <<"http://jabber.org/protocol/compress">>}],
                                 [{xmlel,<<"setup-failed">>,[],[]}]},
                          "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"}
Line: [{escalus_new_assert,assert_true,84},
              {escalus_tcp,use_zlib,114},
              {escalus_session,maybe_use_compression,202},
              {escalus_connection,connection_step,119},
              {lists,foldl,1261},
              {escalus_connection,start,105},
              {escalus_users,delete_user,267},
              {escalus_users,'-delete_users/2-lc$^0/1-0-',111}]

=ended         2016-03-16 15:20:56
=result        failed: {{assertion_failed,assert,is_compressed,
                            {xmlel,<<"failure">>,
                                [{<<"xmlns">>,
                                  <<"http://jabber.org/protocol/compress">>}],
                                [{xmlel,<<"setup-failed">>,[],[]}]},
                            "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"},
                        [{escalus_new_assert,assert_true,2,
                             [{file,"src/escalus_new_assert.erl"},{line,84}]},
                         {escalus_tcp,use_zlib,2,
                             [{file,"src/escalus_tcp.erl"},{line,114}]},
                         {escalus_session,maybe_use_compression,3,
                             [{file,"src/escalus_session.erl"},{line,202}]},
                         {escalus_connection,connection_step,2,
                             [{file,"src/escalus_connection.erl"},{line,119}]},
                         {lists,foldl,3,[{file,"lists.erl"},{line,1261}]},
                         {escalus_connection,start,2,
                             [{file,"src/escalus_connection.erl"},{line,105}]},
                         {login_SUITE,'-message_zlib_limit/1-fun-0-',1,
                             [{file,"login_SUITE.erl"},{line,458}]},
                         {escalus_story,story,3,
                             [{file,"src/escalus_story.erl"},{line,40}]}]}, [{escalus_new_assert,
                                                                              assert_true,
                                                                              84},
                                                                             {escalus_tcp,
                                                                              use_zlib,
                                                                              114},
                                                                             {escalus_session,
                                                                              maybe_use_compression,
                                                                              202},
                                                                             {escalus_connection,
                                                                              connection_step,
                                                                              119},
                                                                             {lists,
                                                                              foldl,
                                                                              1261},
                                                                             {escalus_connection,
                                                                              start,
                                                                              105},
                                                                             {login_SUITE,
                                                                              '-message_zlib_limit/1-fun-0-',
                                                                              458},
                                                                             {escalus_story,
                                                                              story,
                                                                              40}]
=== *** FAILED test case 27 of 27 ***
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141656.365.html
=group_props   [{name,messages},sequence]
=started       2016-03-16 15:20:56
=ended         2016-03-16 15:20:57
=result        ok
=elapsed       0.925478
=group_time    2.221s
=case          login_SUITE:end_per_suite
=logfile       login_suite.end_per_suite.html
=started       2016-03-16 15:20:57
=ended         2016-03-16 15:20:57
=result        ok
=elapsed       0.001683
=group_time    25.033s
=== TEST COMPLETE, 17 ok, 1 failed, 9 skipped of 27 test cases

=finished      2016-03-16 15:20:57
=failed        1
=successful    17
=user_skipped  9
=auto_skipped  0
