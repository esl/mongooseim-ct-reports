=== Suite started at 2016-03-16 15:11:50
=== Starting test, 27 test cases
=cases         27
=user          travis
=host          testing-gce-db723040-9ad2-4db1-b0eb-3046968b9670
=hosts         testing-gce-db723040-9ad2-4db1-b0eb-3046968b9670 
=emulator_vsn  6.4
=emulator      beam
=otp_release   17
=started       2016-03-16 15:11:50
=case          login_SUITE:init_per_suite
=logfile       login_suite.init_per_suite.html
=started       2016-03-16 15:11:50
=ended         2016-03-16 15:11:50
=result        ok
=elapsed       0.002661
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.html
=group_props   [{name,register},sequence]
=started       2016-03-16 15:11:50
=ended         2016-03-16 15:11:50
=result        ok
=elapsed       0.001797
=case          login_SUITE:register
=logfile       login_suite.register.html
=started       2016-03-16 15:11:50
=ended         2016-03-16 15:11:51
=result        ok
=elapsed       0.970168
=case          login_SUITE:already_registered
=logfile       login_suite.already_registered.html
=started       2016-03-16 15:11:51
=ended         2016-03-16 15:11:52
=result        ok
=elapsed       0.45716
=case          login_SUITE:check_unregistered
=logfile       login_suite.check_unregistered.html
=started       2016-03-16 15:11:52
=ended         2016-03-16 15:11:53
=result        ok
=elapsed       1.385424
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.html
=group_props   [{name,register},sequence]
=started       2016-03-16 15:11:53
=ended         2016-03-16 15:11:53
=result        ok
=elapsed       1.0e-6
=group_time    2.915s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141113.609.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-03-16 15:11:53
=ended         2016-03-16 15:11:53
=result        ok
=elapsed       1.0e-6
=case          login_SUITE:null_password
=logfile       login_suite.null_password.html
=started       2016-03-16 15:11:53
=ended         2016-03-16 15:11:53
=result        ok
=elapsed       0.254271
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141113.912.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-03-16 15:11:53
=ended         2016-03-16 15:11:53
=result        ok
=elapsed       1.0e-6
=group_time    0.304s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141113.936.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-03-16 15:11:53
=ended         2016-03-16 15:11:53
=result        ok
=elapsed       0.001487
=case          login_SUITE:bad_request_registration_cancelation
=logfile       login_suite.bad_request_registration_cancelation.html
=started       2016-03-16 15:11:53
=ended         2016-03-16 15:11:55
=result        ok
=elapsed       0.456879
=case          login_SUITE:not_allowed_registration_cancelation
=logfile       login_suite.not_allowed_registration_cancelation.html
=started       2016-03-16 15:11:55
=ended         2016-03-16 15:11:56
=result        ok
=elapsed       0.456068
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141116.371.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-03-16 15:11:56
=ended         2016-03-16 15:11:56
=result        ok
=elapsed       1.0e-6
=group_time    2.434s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141116.395.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-03-16 15:11:56
=ended         2016-03-16 15:11:56
=result        ok
=elapsed       0.001897
=case          login_SUITE:registration_timeout
=logfile       login_suite.registration_timeout.html
=started       2016-03-16 15:11:56
=ended         2016-03-16 15:12:03
=result        ok
=elapsed       5.76595
=case          login_SUITE:registration_failure_timeout
=logfile       login_suite.registration_failure_timeout.html
=started       2016-03-16 15:12:03
=ended         2016-03-16 15:12:05
=result        ok
=elapsed       2.50039
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141125.661.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-03-16 15:12:05
=ended         2016-03-16 15:12:05
=result        ok
=elapsed       1.36e-4
=group_time    9.265s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141125.686.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-03-16 15:12:05
=ended         2016-03-16 15:12:05
=result        ok
=elapsed       0.001324
=case          login_SUITE:change_password
=logfile       login_suite.change_password.html
=started       2016-03-16 15:12:05
=ended         2016-03-16 15:12:06
=result        ok
=elapsed       0.458088
=case          login_SUITE:change_password_to_null
=logfile       login_suite.change_password_to_null.html
=started       2016-03-16 15:12:06
=ended         2016-03-16 15:12:08
=result        ok
=elapsed       0.457127
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141128.123.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-03-16 15:12:08
=ended         2016-03-16 15:12:08
=result        ok
=elapsed       1.0e-6
=group_time    2.437s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141128.148.html
=group_props   [{name,login},sequence]
=started       2016-03-16 15:12:08
=ended         2016-03-16 15:12:08
=result        ok
=elapsed       0.506077
=case          login_SUITE:log_one
=logfile       login_suite.log_one.html
=started       2016-03-16 15:12:08
=ended         2016-03-16 15:12:09
=result        ok
=elapsed       0.456129
=case          login_SUITE:log_non_existent_plain
=logfile       login_suite.log_non_existent_plain.html
=started       2016-03-16 15:12:09
=ended         2016-03-16 15:12:09
=result        ok
=elapsed       0.203569
=case          login_SUITE:log_one_digest
=logfile       login_suite.log_one_digest.html
=started       2016-03-16 15:12:09
=ended         2016-03-16 15:12:09
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 13 of 27 ***
=case          login_SUITE:log_non_existent_digest
=logfile       login_suite.log_non_existent_digest.html
=started       2016-03-16 15:12:09
=ended         2016-03-16 15:12:09
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 14 of 27 ***
=case          login_SUITE:log_one_scram
=logfile       login_suite.log_one_scram.html
=started       2016-03-16 15:12:09
=ended         2016-03-16 15:12:09
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 15 of 27 ***
=case          login_SUITE:log_non_existent_scram
=logfile       login_suite.log_non_existent_scram.html
=started       2016-03-16 15:12:09
=ended         2016-03-16 15:12:09
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 16 of 27 ***
=case          login_SUITE:blocked_user
=logfile       login_suite.blocked_user.html
=started       2016-03-16 15:12:09
=ended         2016-03-16 15:12:09
=result        ok
=elapsed       0.17653
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141129.703.html
=group_props   [{name,login},sequence]
=started       2016-03-16 15:12:09
=ended         2016-03-16 15:12:10
=result        ok
=elapsed       0.920782
=group_time    1.556s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141130.650.html
=group_props   [{name,login_scram},sequence]
=started       2016-03-16 15:12:10
=ended         2016-03-16 15:12:10
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram"}]
=started       2016-03-16 15:12:10
=result        skipped: external authentication requires plain password
=== *** Skipping test case #18 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram"}]
=started       2016-03-16 15:12:10
=result        skipped: external authentication requires plain password
=== *** Skipping test case #19 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram"}]
=started       2016-03-16 15:12:10
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141130.683.html
=group_props   [{name,login_scram_store_plain},sequence]
=started       2016-03-16 15:12:10
=ended         2016-03-16 15:12:10
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-03-16 15:12:10
=result        skipped: external authentication requires plain password
=== *** Skipping test case #20 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-03-16 15:12:10
=result        skipped: external authentication requires plain password
=== *** Skipping test case #21 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-03-16 15:12:10
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141130.709.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-03-16 15:12:10
=ended         2016-03-16 15:12:11
=result        ok
=elapsed       0.508342
=case          login_SUITE:legacy_successful_plain
=logfile       login_suite.legacy_successful_plain.html
=started       2016-03-16 15:12:11
=ended         2016-03-16 15:12:11
=result        ok
=elapsed       0.203052
=case          login_SUITE:legacy_unsuccessful_plain
=logfile       login_suite.legacy_unsuccessful_plain.html
=started       2016-03-16 15:12:11
=ended         2016-03-16 15:12:11
=result        ok
=elapsed       0.002464
=case          login_SUITE:legacy_successful_digest
=logfile       login_suite.legacy_successful_digest.html
=started       2016-03-16 15:12:11
=ended         2016-03-16 15:12:11
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 24 of 27 ***
=case          login_SUITE:legacy_blocked_user
=logfile       login_suite.legacy_blocked_user.html
=started       2016-03-16 15:12:11
=ended         2016-03-16 15:12:11
=result        ok
=elapsed       0.001284
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141131.552.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-03-16 15:12:11
=ended         2016-03-16 15:12:12
=result        ok
=elapsed       0.919901
=group_time    0.843s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.141132.497.html
=group_props   [{name,messages},sequence]
=started       2016-03-16 15:12:12
=ended         2016-03-16 15:12:13
=result        ok
=elapsed       0.508337
=case          login_SUITE:messages_story
=logfile       login_suite.messages_story.html
=started       2016-03-16 15:12:13
=ended         2016-03-16 15:12:13
=result        ok
=elapsed       0.912448
=case          login_SUITE:message_zlib_limit
=logfile       login_suite.message_zlib_limit.html
=started       2016-03-16 15:12:13
=== WARNING: end_per_testcase crashed!
Reason: {assertion_failed,assert,is_compressed,
                          {xmlel,<<"failure">>,
                                 [{<<"xmlns">>,
                                   <<"http://jabber.org/protocol/compress">>}],
                                 [{xmlel,<<"setup-failed">>,[],[]}]},
                          "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"}
Line: [{escalus_new_assert,assert_true,84},
              {escalus_tcp,use_zlib,114},
              {escalus_session,maybe_use_compression,202},
              {escalus_connection,connection_step,119},
              {lists,foldl,1261},
              {escalus_connection,start,105},
              {escalus_users,delete_user,267},
              {escalus_users,'-delete_users/2-lc$^0/1-0-',111}]

=ended         2016-03-16 15:12:14
=result        failed: {{assertion_failed,assert,is_compressed,
                            {xmlel,<<"failure">>,
                                [{<<"xmlns">>,
                                  <<"http://jabber.org/protocol/compress">>}],
                                [{xmlel,<<"setup-failed">>,[],[]}]},
                            "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"},
                        [{escalus_new_assert,assert_true,2,
                             [{file,"src/escalus_new_assert.erl"},{line,84}]},
                         {escalus_tcp,use_zlib,2,
                             [{file,"src/escalus_tcp.erl"},{line,114}]},
                         {escalus_session,maybe_use_compression,3,
                             [{file,"src/escalus_session.erl"},{line,202}]},
                         {escalus_connection,connection_step,2,
                             [{file,"src/escalus_connection.erl"},{line,119}]},
                         {lists,foldl,3,[{file,"lists.erl"},{line,1261}]},
                         {escalus_connection,start,2,
                             [{file,"src/escalus_connection.erl"},{line,105}]},
                         {login_SUITE,'-message_zlib_limit/1-fun-0-',1,
                             [{file,"login_SUITE.erl"},{line,458}]},
                         {escalus_story,story,3,
                             [{file,"src/escalus_story.erl"},{line,40}]}]}, [{escalus_new_assert,
                                                                              assert_true,
                                                                              84},
                                                                             {escalus_tcp,
                                                                              use_zlib,
                                                                              114},
                                                                             {escalus_session,
                                                                              maybe_use_compression,
                                                                              202},
                                                                             {escalus_connection,
                                                                              connection_step,
                                                                              119},
                                                                             {lists,
                                                                              foldl,
                                                                              1261},
                                                                             {escalus_connection,
                                                                              start,
                                                                              105},
                                                                             {login_SUITE,
                                                                              '-message_zlib_limit/1-fun-0-',
                                                                              458},
                                                                             {escalus_story,
                                                                              story,
                                                                              40}]
=== *** FAILED test case 27 of 27 ***
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.141134.709.html
=group_props   [{name,messages},sequence]
=started       2016-03-16 15:12:14
=ended         2016-03-16 15:12:15
=result        ok
=elapsed       0.920518
=group_time    2.212s
=case          login_SUITE:end_per_suite
=logfile       login_suite.end_per_suite.html
=started       2016-03-16 15:12:15
=ended         2016-03-16 15:12:15
=result        ok
=elapsed       0.001765
=group_time    25.039s
=== TEST COMPLETE, 17 ok, 1 failed, 9 skipped of 27 test cases

=finished      2016-03-16 15:12:15
=failed        1
=successful    17
=user_skipped  9
=auto_skipped  0
