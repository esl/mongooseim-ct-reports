=== Suite started at 2016-04-11 11:36:17
=== Starting test, 27 test cases
=cases         27
=user          travis
=host          testing-gce-f4275264-2f8e-4325-ae2a-7f6a839d5748
=hosts         testing-gce-f4275264-2f8e-4325-ae2a-7f6a839d5748 
=emulator_vsn  6.4
=emulator      beam
=otp_release   17
=started       2016-04-11 11:36:17
=case          login_SUITE:init_per_suite
=logfile       login_suite.init_per_suite.html
=started       2016-04-11 11:36:17
=ended         2016-04-11 11:36:17
=result        ok
=elapsed       0.00268
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.html
=group_props   [{name,register},sequence]
=started       2016-04-11 11:36:17
=ended         2016-04-11 11:36:17
=result        ok
=elapsed       0.001613
=case          login_SUITE:register
=logfile       login_suite.register.html
=started       2016-04-11 11:36:17
=ended         2016-04-11 11:36:18
=result        ok
=elapsed       0.972941
=case          login_SUITE:already_registered
=logfile       login_suite.already_registered.html
=started       2016-04-11 11:36:18
=ended         2016-04-11 11:36:19
=result        ok
=elapsed       0.462788
=case          login_SUITE:check_unregistered
=logfile       login_suite.check_unregistered.html
=started       2016-04-11 11:36:19
=ended         2016-04-11 11:36:20
=result        ok
=elapsed       1.387073
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.html
=group_props   [{name,register},sequence]
=started       2016-04-11 11:36:20
=ended         2016-04-11 11:36:20
=result        ok
=elapsed       1.0e-6
=group_time    2.938s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374580.527.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-04-11 11:36:20
=ended         2016-04-11 11:36:20
=result        ok
=elapsed       1.0e-6
=case          login_SUITE:null_password
=logfile       login_suite.null_password.html
=started       2016-04-11 11:36:20
=ended         2016-04-11 11:36:20
=result        ok
=elapsed       0.251402
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.374580.829.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-04-11 11:36:20
=ended         2016-04-11 11:36:20
=result        ok
=elapsed       1.0e-6
=group_time    0.301s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374580.855.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-04-11 11:36:20
=ended         2016-04-11 11:36:20
=result        ok
=elapsed       0.001754
=case          login_SUITE:bad_request_registration_cancelation
=logfile       login_suite.bad_request_registration_cancelation.html
=started       2016-04-11 11:36:20
=ended         2016-04-11 11:36:22
=result        ok
=elapsed       0.456964
=case          login_SUITE:not_allowed_registration_cancelation
=logfile       login_suite.not_allowed_registration_cancelation.html
=started       2016-04-11 11:36:22
=ended         2016-04-11 11:36:23
=result        ok
=elapsed       0.459298
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.374583.310.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-04-11 11:36:23
=ended         2016-04-11 11:36:23
=result        ok
=elapsed       1.0e-6
=group_time    2.456s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374583.336.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-04-11 11:36:23
=ended         2016-04-11 11:36:23
=result        ok
=elapsed       0.004283
=case          login_SUITE:registration_timeout
=logfile       login_suite.registration_timeout.html
=started       2016-04-11 11:36:23
=ended         2016-04-11 11:36:30
=result        ok
=elapsed       5.768948
=case          login_SUITE:registration_failure_timeout
=logfile       login_suite.registration_failure_timeout.html
=started       2016-04-11 11:36:30
=ended         2016-04-11 11:36:32
=result        ok
=elapsed       2.501715
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.374592.615.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-04-11 11:36:32
=ended         2016-04-11 11:36:32
=result        ok
=elapsed       2.15e-4
=group_time    9.279s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374592.641.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-04-11 11:36:32
=ended         2016-04-11 11:36:32
=result        ok
=elapsed       0.001811
=case          login_SUITE:change_password
=logfile       login_suite.change_password.html
=started       2016-04-11 11:36:32
=ended         2016-04-11 11:36:33
=result        ok
=elapsed       0.461042
=case          login_SUITE:change_password_to_null
=logfile       login_suite.change_password_to_null.html
=started       2016-04-11 11:36:33
=ended         2016-04-11 11:36:35
=result        ok
=elapsed       0.458983
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.374595.99.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-04-11 11:36:35
=ended         2016-04-11 11:36:35
=result        ok
=elapsed       1.0e-6
=group_time    2.458s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374595.124.html
=group_props   [{name,login},sequence]
=started       2016-04-11 11:36:35
=ended         2016-04-11 11:36:35
=result        ok
=elapsed       0.51194
=case          login_SUITE:log_one
=logfile       login_suite.log_one.html
=started       2016-04-11 11:36:35
=ended         2016-04-11 11:36:36
=result        ok
=elapsed       0.458517
=case          login_SUITE:log_non_existent_plain
=logfile       login_suite.log_non_existent_plain.html
=started       2016-04-11 11:36:36
=ended         2016-04-11 11:36:36
=result        ok
=elapsed       0.203704
=case          login_SUITE:log_one_digest
=logfile       login_suite.log_one_digest.html
=started       2016-04-11 11:36:36
=ended         2016-04-11 11:36:36
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 13 of 27 ***
=case          login_SUITE:log_non_existent_digest
=logfile       login_suite.log_non_existent_digest.html
=started       2016-04-11 11:36:36
=ended         2016-04-11 11:36:36
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 14 of 27 ***
=case          login_SUITE:log_one_scram
=logfile       login_suite.log_one_scram.html
=started       2016-04-11 11:36:36
=ended         2016-04-11 11:36:36
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 15 of 27 ***
=case          login_SUITE:log_non_existent_scram
=logfile       login_suite.log_non_existent_scram.html
=started       2016-04-11 11:36:36
=ended         2016-04-11 11:36:36
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 16 of 27 ***
=case          login_SUITE:blocked_user
=logfile       login_suite.blocked_user.html
=started       2016-04-11 11:36:36
=ended         2016-04-11 11:36:36
=result        ok
=elapsed       0.179469
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.374596.695.html
=group_props   [{name,login},sequence]
=started       2016-04-11 11:36:36
=ended         2016-04-11 11:36:37
=result        ok
=elapsed       0.922797
=group_time    1.571s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374597.647.html
=group_props   [{name,login_scram},sequence]
=started       2016-04-11 11:36:37
=ended         2016-04-11 11:36:37
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram"}]
=started       2016-04-11 11:36:37
=result        skipped: external authentication requires plain password
=== *** Skipping test case #18 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram"}]
=started       2016-04-11 11:36:37
=result        skipped: external authentication requires plain password
=== *** Skipping test case #19 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram"}]
=started       2016-04-11 11:36:37
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374597.676.html
=group_props   [{name,login_scram_store_plain},sequence]
=started       2016-04-11 11:36:37
=ended         2016-04-11 11:36:37
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-04-11 11:36:37
=result        skipped: external authentication requires plain password
=== *** Skipping test case #20 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-04-11 11:36:37
=result        skipped: external authentication requires plain password
=== *** Skipping test case #21 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-04-11 11:36:37
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374597.706.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-04-11 11:36:37
=ended         2016-04-11 11:36:38
=result        ok
=elapsed       0.512308
=case          login_SUITE:legacy_successful_plain
=logfile       login_suite.legacy_successful_plain.html
=started       2016-04-11 11:36:38
=ended         2016-04-11 11:36:38
=result        ok
=elapsed       0.203969
=case          login_SUITE:legacy_unsuccessful_plain
=logfile       login_suite.legacy_unsuccessful_plain.html
=started       2016-04-11 11:36:38
=ended         2016-04-11 11:36:38
=result        ok
=elapsed       0.003034
=case          login_SUITE:legacy_successful_digest
=logfile       login_suite.legacy_successful_digest.html
=started       2016-04-11 11:36:38
=ended         2016-04-11 11:36:38
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 24 of 27 ***
=case          login_SUITE:legacy_blocked_user
=logfile       login_suite.legacy_blocked_user.html
=started       2016-04-11 11:36:38
=ended         2016-04-11 11:36:38
=result        ok
=elapsed       0.001623
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.374598.565.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-04-11 11:36:38
=ended         2016-04-11 11:36:39
=result        ok
=elapsed       0.922732
=group_time    0.859s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.374599.514.html
=group_props   [{name,messages},sequence]
=started       2016-04-11 11:36:39
=ended         2016-04-11 11:36:40
=result        ok
=elapsed       0.508365
=case          login_SUITE:messages_story
=logfile       login_suite.messages_story.html
=started       2016-04-11 11:36:40
=ended         2016-04-11 11:36:40
=result        ok
=elapsed       0.91714
=case          login_SUITE:message_zlib_limit
=logfile       login_suite.message_zlib_limit.html
=started       2016-04-11 11:36:40
=== WARNING: end_per_testcase crashed!
Reason: {assertion_failed,assert,is_compressed,
                          {xmlel,<<"failure">>,
                                 [{<<"xmlns">>,
                                   <<"http://jabber.org/protocol/compress">>}],
                                 [{xmlel,<<"setup-failed">>,[],[]}]},
                          "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"}
Line: [{escalus_new_assert,assert_true,84},
              {escalus_tcp,use_zlib,114},
              {escalus_session,maybe_use_compression,214},
              {escalus_connection,connection_step,119},
              {lists,foldl,1261},
              {escalus_connection,start,105},
              {escalus_users,delete_user,274},
              {escalus_users,'-delete_users/2-lc$^0/1-0-',107}]

=ended         2016-04-11 11:36:41
=result        failed: {{assertion_failed,assert,is_compressed,
                            {xmlel,<<"failure">>,
                                [{<<"xmlns">>,
                                  <<"http://jabber.org/protocol/compress">>}],
                                [{xmlel,<<"setup-failed">>,[],[]}]},
                            "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"},
                        [{escalus_new_assert,assert_true,2,
                             [{file,"src/escalus_new_assert.erl"},{line,84}]},
                         {escalus_tcp,use_zlib,2,
                             [{file,"src/escalus_tcp.erl"},{line,114}]},
                         {escalus_session,maybe_use_compression,3,
                             [{file,"src/escalus_session.erl"},{line,214}]},
                         {escalus_connection,connection_step,2,
                             [{file,"src/escalus_connection.erl"},{line,119}]},
                         {lists,foldl,3,[{file,"lists.erl"},{line,1261}]},
                         {escalus_connection,start,2,
                             [{file,"src/escalus_connection.erl"},{line,105}]},
                         {login_SUITE,'-message_zlib_limit/1-fun-0-',1,
                             [{file,"login_SUITE.erl"},{line,458}]},
                         {escalus_story,story,3,
                             [{file,"src/escalus_story.erl"},{line,40}]}]}, [{escalus_new_assert,
                                                                              assert_true,
                                                                              84},
                                                                             {escalus_tcp,
                                                                              use_zlib,
                                                                              114},
                                                                             {escalus_session,
                                                                              maybe_use_compression,
                                                                              214},
                                                                             {escalus_connection,
                                                                              connection_step,
                                                                              119},
                                                                             {lists,
                                                                              foldl,
                                                                              1261},
                                                                             {escalus_connection,
                                                                              start,
                                                                              105},
                                                                             {login_SUITE,
                                                                              '-message_zlib_limit/1-fun-0-',
                                                                              458},
                                                                             {escalus_story,
                                                                              story,
                                                                              40}]
=== *** FAILED test case 27 of 27 ***
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.374601.744.html
=group_props   [{name,messages},sequence]
=started       2016-04-11 11:36:41
=ended         2016-04-11 11:36:42
=result        ok
=elapsed       0.922388
=group_time    2.229s
=case          login_SUITE:end_per_suite
=logfile       login_suite.end_per_suite.html
=started       2016-04-11 11:36:42
=ended         2016-04-11 11:36:42
=result        ok
=elapsed       0.002093
=group_time    25.185s
=== TEST COMPLETE, 17 ok, 1 failed, 9 skipped of 27 test cases

=finished      2016-04-11 11:36:42
=failed        1
=successful    17
=user_skipped  9
=auto_skipped  0
