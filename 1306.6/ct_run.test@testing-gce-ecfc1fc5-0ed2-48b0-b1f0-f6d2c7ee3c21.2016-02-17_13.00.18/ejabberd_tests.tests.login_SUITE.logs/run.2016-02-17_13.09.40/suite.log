=== Suite started at 2016-02-17 13:09:40
=== Starting test, 27 test cases
=cases         27
=user          travis
=host          testing-gce-ecfc1fc5-0ed2-48b0-b1f0-f6d2c7ee3c21
=hosts         testing-gce-ecfc1fc5-0ed2-48b0-b1f0-f6d2c7ee3c21 
=emulator_vsn  6.4
=emulator      beam
=otp_release   17
=started       2016-02-17 13:09:40
=case          login_SUITE:init_per_suite
=logfile       login_suite.init_per_suite.html
=started       2016-02-17 13:09:40
=ended         2016-02-17 13:09:40
=result        ok
=elapsed       0.002299
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.html
=group_props   [{name,register},sequence]
=started       2016-02-17 13:09:40
=ended         2016-02-17 13:09:40
=result        ok
=elapsed       0.001717
=case          login_SUITE:register
=logfile       login_suite.register.html
=started       2016-02-17 13:09:40
=ended         2016-02-17 13:09:41
=result        ok
=elapsed       0.97072
=case          login_SUITE:already_registered
=logfile       login_suite.already_registered.html
=started       2016-02-17 13:09:41
=ended         2016-02-17 13:09:41
=result        ok
=elapsed       0.457578
=case          login_SUITE:check_unregistered
=logfile       login_suite.check_unregistered.html
=started       2016-02-17 13:09:41
=ended         2016-02-17 13:09:43
=result        ok
=elapsed       1.384031
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.html
=group_props   [{name,register},sequence]
=started       2016-02-17 13:09:43
=ended         2016-02-17 13:09:43
=result        ok
=elapsed       1.0e-6
=group_time    2.923s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714583.102.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-02-17 13:09:43
=ended         2016-02-17 13:09:43
=result        ok
=elapsed       1.0e-6
=case          login_SUITE:null_password
=logfile       login_suite.null_password.html
=started       2016-02-17 13:09:43
=ended         2016-02-17 13:09:43
=result        ok
=elapsed       0.251254
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.714583.401.html
=group_props   [{name,bad_registration},no_sequence]
=started       2016-02-17 13:09:43
=ended         2016-02-17 13:09:43
=result        ok
=elapsed       1.0e-6
=group_time    0.299s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714583.426.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-02-17 13:09:43
=ended         2016-02-17 13:09:43
=result        ok
=elapsed       0.001031
=case          login_SUITE:bad_request_registration_cancelation
=logfile       login_suite.bad_request_registration_cancelation.html
=started       2016-02-17 13:09:43
=ended         2016-02-17 13:09:44
=result        ok
=elapsed       0.456049
=case          login_SUITE:not_allowed_registration_cancelation
=logfile       login_suite.not_allowed_registration_cancelation.html
=started       2016-02-17 13:09:44
=ended         2016-02-17 13:09:45
=result        ok
=elapsed       0.456418
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.714585.860.html
=group_props   [{name,bad_cancelation},no_sequence]
=started       2016-02-17 13:09:45
=ended         2016-02-17 13:09:45
=result        ok
=elapsed       1.0e-6
=group_time    2.434s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714585.884.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-02-17 13:09:45
=ended         2016-02-17 13:09:45
=result        ok
=elapsed       0.002271
=case          login_SUITE:registration_timeout
=logfile       login_suite.registration_timeout.html
=started       2016-02-17 13:09:45
=ended         2016-02-17 13:09:52
=result        ok
=elapsed       5.770467
=case          login_SUITE:registration_failure_timeout
=logfile       login_suite.registration_failure_timeout.html
=started       2016-02-17 13:09:52
=ended         2016-02-17 13:09:55
=result        ok
=elapsed       2.50072
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.714595.164.html
=group_props   [{name,registration_timeout},sequence]
=started       2016-02-17 13:09:55
=ended         2016-02-17 13:09:55
=result        ok
=elapsed       1.88e-4
=group_time    9.280s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714595.189.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-02-17 13:09:55
=ended         2016-02-17 13:09:55
=result        ok
=elapsed       0.001802
=case          login_SUITE:change_password
=logfile       login_suite.change_password.html
=started       2016-02-17 13:09:55
=ended         2016-02-17 13:09:56
=result        ok
=elapsed       0.461033
=case          login_SUITE:change_password_to_null
=logfile       login_suite.change_password_to_null.html
=started       2016-02-17 13:09:56
=ended         2016-02-17 13:09:57
=result        ok
=elapsed       0.455983
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.714597.648.html
=group_props   [{name,change_account_details},no_sequence]
=started       2016-02-17 13:09:57
=ended         2016-02-17 13:09:57
=result        ok
=elapsed       1.0e-6
=group_time    2.458s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714597.676.html
=group_props   [{name,login},sequence]
=started       2016-02-17 13:09:57
=ended         2016-02-17 13:09:58
=result        ok
=elapsed       0.505692
=case          login_SUITE:log_one
=logfile       login_suite.log_one.html
=started       2016-02-17 13:09:58
=ended         2016-02-17 13:09:58
=result        ok
=elapsed       0.456063
=case          login_SUITE:log_non_existent_plain
=logfile       login_suite.log_non_existent_plain.html
=started       2016-02-17 13:09:58
=ended         2016-02-17 13:09:58
=result        ok
=elapsed       0.203907
=case          login_SUITE:log_one_digest
=logfile       login_suite.log_one_digest.html
=started       2016-02-17 13:09:58
=ended         2016-02-17 13:09:58
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 13 of 27 ***
=case          login_SUITE:log_non_existent_digest
=logfile       login_suite.log_non_existent_digest.html
=started       2016-02-17 13:09:58
=ended         2016-02-17 13:09:58
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 14 of 27 ***
=case          login_SUITE:log_one_scram
=logfile       login_suite.log_one_scram.html
=started       2016-02-17 13:09:58
=ended         2016-02-17 13:09:58
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 15 of 27 ***
=case          login_SUITE:log_non_existent_scram
=logfile       login_suite.log_non_existent_scram.html
=started       2016-02-17 13:09:58
=ended         2016-02-17 13:09:59
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 16 of 27 ***
=case          login_SUITE:blocked_user
=logfile       login_suite.blocked_user.html
=started       2016-02-17 13:09:59
=ended         2016-02-17 13:09:59
=result        ok
=elapsed       0.177929
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.714599.230.html
=group_props   [{name,login},sequence]
=started       2016-02-17 13:09:59
=ended         2016-02-17 13:10:00
=result        ok
=elapsed       0.919271
=group_time    1.554s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714600.180.html
=group_props   [{name,login_scram},sequence]
=started       2016-02-17 13:10:00
=ended         2016-02-17 13:10:00
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram"}]
=started       2016-02-17 13:10:00
=result        skipped: external authentication requires plain password
=== *** Skipping test case #18 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram"}]
=started       2016-02-17 13:10:00
=result        skipped: external authentication requires plain password
=== *** Skipping test case #19 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram"}]
=started       2016-02-17 13:10:00
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714600.210.html
=group_props   [{name,login_scram_store_plain},sequence]
=started       2016-02-17 13:10:00
=ended         2016-02-17 13:10:00
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED {login_SUITE,init_per_group} ***
=== 
=case          login_SUITE:log_one
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-02-17 13:10:00
=result        skipped: external authentication requires plain password
=== *** Skipping test case #20 {login_SUITE,log_one} ***
=== 
=case          login_SUITE:log_one_scram
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-02-17 13:10:00
=result        skipped: external authentication requires plain password
=== *** Skipping test case #21 {login_SUITE,log_one_scram} ***
=== 
=case          login_SUITE:end_per_group
=group_props   [{name,"login_scram_store_plain"}]
=started       2016-02-17 13:10:00
=result        skipped: external authentication requires plain password
=== *** Skipping {login_SUITE,end_per_group} ***
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714600.237.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-02-17 13:10:00
=ended         2016-02-17 13:10:00
=result        ok
=elapsed       0.509633
=case          login_SUITE:legacy_successful_plain
=logfile       login_suite.legacy_successful_plain.html
=started       2016-02-17 13:10:00
=ended         2016-02-17 13:10:01
=result        ok
=elapsed       0.203869
=case          login_SUITE:legacy_unsuccessful_plain
=logfile       login_suite.legacy_unsuccessful_plain.html
=started       2016-02-17 13:10:01
=ended         2016-02-17 13:10:01
=result        ok
=elapsed       0.003119
=case          login_SUITE:legacy_successful_digest
=logfile       login_suite.legacy_successful_digest.html
=started       2016-02-17 13:10:01
=ended         2016-02-17 13:10:01
=result        skipped: "external authentication requires plain password"
=== *** SKIPPED test case 24 of 27 ***
=case          login_SUITE:legacy_blocked_user
=logfile       login_suite.legacy_blocked_user.html
=started       2016-02-17 13:10:01
=ended         2016-02-17 13:10:01
=result        ok
=elapsed       0.001501
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.714601.92.html
=group_props   [{name,legacy_auth},sequence]
=started       2016-02-17 13:10:01
=ended         2016-02-17 13:10:02
=result        ok
=elapsed       0.920179
=group_time    0.855s
=case          login_SUITE:init_per_group
=logfile       login_suite.init_per_group.714602.37.html
=group_props   [{name,messages},sequence]
=started       2016-02-17 13:10:02
=ended         2016-02-17 13:10:02
=result        ok
=elapsed       0.509043
=case          login_SUITE:messages_story
=logfile       login_suite.messages_story.html
=started       2016-02-17 13:10:02
=ended         2016-02-17 13:10:03
=result        ok
=elapsed       0.912962
=case          login_SUITE:message_zlib_limit
=logfile       login_suite.message_zlib_limit.html
=started       2016-02-17 13:10:03
=== WARNING: end_per_testcase crashed!
Reason: {assertion_failed,assert,is_compressed,
                          {xmlel,<<"failure">>,
                                 [{<<"xmlns">>,
                                   <<"http://jabber.org/protocol/compress">>}],
                                 [{xmlel,<<"setup-failed">>,[],[]}]},
                          "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"}
Line: [{escalus_new_assert,assert_true,84},
              {escalus_tcp,use_zlib,113},
              {escalus_session,maybe_use_compression,202},
              {escalus_connection,connection_step,119},
              {lists,foldl,1261},
              {escalus_connection,start,105},
              {escalus_users,delete_user,267},
              {escalus_users,'-delete_users/2-lc$^0/1-0-',111}]

=ended         2016-02-17 13:10:04
=result        failed: {{assertion_failed,assert,is_compressed,
                            {xmlel,<<"failure">>,
                                [{<<"xmlns">>,
                                  <<"http://jabber.org/protocol/compress">>}],
                                [{xmlel,<<"setup-failed">>,[],[]}]},
                            "<failure xmlns='http://jabber.org/protocol/compress'><setup-failed/></failure>"},
                        [{escalus_new_assert,assert_true,2,
                             [{file,"src/escalus_new_assert.erl"},{line,84}]},
                         {escalus_tcp,use_zlib,2,
                             [{file,"src/escalus_tcp.erl"},{line,113}]},
                         {escalus_session,maybe_use_compression,3,
                             [{file,"src/escalus_session.erl"},{line,202}]},
                         {escalus_connection,connection_step,2,
                             [{file,"src/escalus_connection.erl"},{line,119}]},
                         {lists,foldl,3,[{file,"lists.erl"},{line,1261}]},
                         {escalus_connection,start,2,
                             [{file,"src/escalus_connection.erl"},{line,105}]},
                         {login_SUITE,'-message_zlib_limit/1-fun-0-',1,
                             [{file,"login_SUITE.erl"},{line,458}]},
                         {escalus_story,story,3,
                             [{file,"src/escalus_story.erl"},{line,40}]}]}, [{escalus_new_assert,
                                                                              assert_true,
                                                                              84},
                                                                             {escalus_tcp,
                                                                              use_zlib,
                                                                              113},
                                                                             {escalus_session,
                                                                              maybe_use_compression,
                                                                              202},
                                                                             {escalus_connection,
                                                                              connection_step,
                                                                              119},
                                                                             {lists,
                                                                              foldl,
                                                                              1261},
                                                                             {escalus_connection,
                                                                              start,
                                                                              105},
                                                                             {login_SUITE,
                                                                              '-message_zlib_limit/1-fun-0-',
                                                                              458},
                                                                             {escalus_story,
                                                                              story,
                                                                              40}]
=== *** FAILED test case 27 of 27 ***
=case          login_SUITE:end_per_group
=logfile       login_suite.end_per_group.714604.270.html
=group_props   [{name,messages},sequence]
=started       2016-02-17 13:10:04
=ended         2016-02-17 13:10:05
=result        ok
=elapsed       0.920296
=group_time    2.234s
=case          login_SUITE:end_per_suite
=logfile       login_suite.end_per_suite.html
=started       2016-02-17 13:10:05
=ended         2016-02-17 13:10:05
=result        ok
=elapsed       0.001653
=group_time    25.117s
=== TEST COMPLETE, 17 ok, 1 failed, 9 skipped of 27 test cases

=finished      2016-02-17 13:10:05
=failed        1
=successful    17
=user_skipped  9
=auto_skipped  0
